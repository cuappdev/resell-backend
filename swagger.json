{
    "openapi": "3.0.0",
    "info": {
      "title": "Resell API",
      "description": "API for the resell application",
      "version": "1.0.0"
    },
    "servers": [
      {
        "url": "http://localhost:3000"
      }
    ],
    "paths": {
      "/auth/login": {
        "post": {
          "summary": "Log in a user",
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoginRequest"
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Successful login",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/UserSession"
                  }
                }
              }
            }
          }
        }
      },
      "/auth/logout": {
        "post": {
          "summary": "Log out a user",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "responses": {
            "200": {
              "description": "Successful logout",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "logoutSuccess": {
                        "type": "boolean"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "/user": {
        "get": {
          "summary": "Get all users",
          "responses": {
            "200": {
              "description": "Successful response",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "users": {
                        "type": "array",
                        "items": {
                          "$ref": "#/components/schemas/User"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "post": {
          "summary": "Update user",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UpdateUserRequest"
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Successful update",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/User"
                  }
                }
              }
            }
          }
        }
      },
      "/user/id/{userId}": {
        "get": {
          "summary": "Get user by ID",
          "parameters": [
            {
              "name": "userId",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Successful response",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/User"
                  }
                }
              }
            }
          }
        }
      },
      "/user/postId/{postId}": {
        "get": {
          "summary": "Get user by post ID",
          "parameters": [
            {
              "name": "postId",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Successful response",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "users": {
                        "type": "array",
                        "items": {
                          "$ref": "#/components/schemas/User"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "/user/googleId/{googleId}": {
        "get": {
          "summary": "Get user by Google ID",
          "parameters": [
            {
              "name": "googleId",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Successful response",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "users": {
                        "type": "array",
                        "items": {
                          "$ref": "#/components/schemas/User"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "/user/email": {
        "post": {
          "summary": "Get user by email",
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "email": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Successful response",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "users": {
                        "type": "array",
                        "items": {
                          "$ref": "#/components/schemas/User"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "/user/block": {
        "post": {
          "summary": "Block a user",
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "blocked": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Successful response",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/User"
                  }
                }
              }
            }
          }
        }
      },
      "/user/unblock": {
        "post": {
          "summary": "Unblock a user",
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "unblocked": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Successful response",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/User"
                  }
                }
              }
            }
          }
        }
      },
      "/user/blocked/id/{userId}": {
        "get": {
          "summary": "Get blocked users",
          "parameters": [
            {
              "name": "userId",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Successful response",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/User"
                  }
                }
              }
            }
          }
        }
      },
      "/user/softdelete/id/{userId}": {
        "post": {
          "summary": "Soft delete a user",
          "parameters": [
            {
              "name": "userId",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Successful response",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/User"
                  }
                }
              }
            }
          }
        }
      },
      "/post": {
        "get": {
          "summary": "Get all posts",
          "responses": {
            "200": {
              "description": "Successful response",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "posts": {
                        "type": "array",
                        "items": {
                          "$ref": "#/components/schemas/Post"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "post": {
          "summary": "Create a post",
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreatePostRequest"
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Successful response",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/Post"
                  }
                }
              }
            }
          }
        }
      },
      "/post/id/{postId}": {
        "get": {
          "summary": "Get post by ID",
          "parameters": [
            {
              "name": "postId",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Successful response",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/Post"
                  }
                }
              }
            }
          }
        },
        "delete": {
          "summary": "Delete post by ID",
          "parameters": [
            {
              "name": "postId",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Successful response",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/Post"
                  }
                }
              }
            }
          }
        }
      },
      "/post/userId/{userId}": {
        "get": {
          "summary": "Get posts by user ID",
          "parameters": [
            {
              "name": "userId",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Successful response",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "posts": {
                        "type": "array",
                        "items": {
                          "$ref": "#/components/schemas/Post"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "/post/search": {
        "post": {
          "summary": "Search posts",
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "keywords": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Successful response",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "posts": {
                        "type": "array",
                        "items": {
                          "$ref": "#/components/schemas/Post"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "/post/filter": {
        "get": {
          "summary": "Filter posts by category",
          "parameters": [
            {
              "name": "category",
              "in": "query",
              "required": true,
              "schema": {
                "type": "string",
                "enum": ["CLOTHING", "BOOKS", "SCHOOL", "ELECTRONICS", "HOUSEHOLD", "HANDMADE", "SPORTS & OUTDOORS", "OTHER"]
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Successful response",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "posts": {
                        "type": "array",
                        "items": {
                          "$ref": "#/components/schemas/Post"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "/post/archive": {
        "get": {
          "summary": "Get all archived posts",
          "responses": {
            "200": {
              "description": "Successful response",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "posts": {
                        "type": "array",
                        "items": {
                          "$ref": "#/components/schemas/Post"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "/post/archive/userId/{userId}": {
        "get": {
          "summary": "Get archived posts by user ID",
          "parameters": [
            {
              "name": "userId",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Successful response",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "posts": {
                        "type": "array",
                        "items": {
                          "$ref": "#/components/schemas/Post"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
    }
},
    "components": {
        "schemas": {
        "LoginRequest": {
            "type": "object",
            "properties": {
            "email": {
                "type": "string"
            },
            "password": {
                "type": "string"
            }
            }
        },
        "UserSession": {
            "type": "object",
            "properties": {
            "accessToken": {
                "type": "string"
            },
            "expiresAt": {
                "type": "Date"
            },
            "refreshToken": {
                "type": "string"
            },
            "deviceToken": {
                "type": "string"
            },
            "user": {
                "$ref": "#/components/schemas/User"
            }
            }
        },
        "User": {
            "type": "object",
            "properties": {
            "id": {
                "type": "string"
            },
            "email": {
                "type": "string"
            },
            "name": {
                "type": "string"
            }
            }
        },
        "UpdateUserRequest": {
            "type": "object",
            "properties": {
            "name": {
                "type": "string"
            },
            "email": {
                "type": "string"
            }
            }
        },
        "Post": {
            "type": "object",
            "properties": {
            "id": {
                "type": "string"
            },
            "title": {
                "type": "string"
            },
            "description": {
                "type": "string"
            },
            "price": {
                "type": "number"
            },
            "category": {
                "type": "string",
                "enum": ["CLOTHING", "BOOKS", "SCHOOL", "ELECTRONICS", "HOUSEHOLD", "HANDMADE", "SPORTS & OUTDOORS", "OTHER"]
            },
            "userId": {
                "type": "string"
            }
            }
        },
        "CreatePostRequest": {
            "type": "object",
            "properties": {
            "title": {
                "type": "string"
            },
            "description": {
                "type": "string"
            },
            "price": {
                "type": "number"
            },
            "category": {
                "type": "string",
                "enum": ["CLOTHING", "BOOKS", "SCHOOL", "ELECTRONICS", "HOUSEHOLD", "HANDMADE", "SPORTS & OUTDOORS", "OTHER"]
            }
            }
        }
        },
        "securitySchemes": {
        "bearerAuth": {
            "type": "http",
            "scheme": "bearer",
            "bearerFormat": "JWT"
        }
        }
    }
}